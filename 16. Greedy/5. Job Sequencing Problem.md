# Job Sequencing Problem

## Problem Statement

- Given two arrays: **deadline[]** and **profit[]**, where the index of deadline[] represents a job ID, and `deadline[i]` denotes the deadline for that job and `profit[i]` represents profit of doing ith job.
- Each job takes exactly **one unit of time** to complete, and only one job can be scheduled at a time.
- A job earns its corresponding profit only if it is completed within its deadline.
- Determine total number of jobs and maximum profit.

## Key Idea

- The problem is solved using a greedy approach where we first sort all jobs in **descending order of profit**
- Then for each job, we try to schedule it **as late as possible before its deadline** so that earlier time slots remain available for other jobs
- This ensures we always pick the most valuable jobs first while maximizing the number of jobs that can fit within their deadlines, leading to the highest total profit.

## Step by Step Algorithm

**Step 1**: Represent the jobs

- Each job has two properties:

  1. **Deadline** – the last time slot by which it must be completed.
  2. **Profit** – the reward you get for completing the job.

- Collect all jobs into a list with these two properties.

**Step 2**: Sort jobs by profit

- To maximize profit, you should try to do high-profit jobs first.
- So, sort all jobs in descending order of profit.
- After this, the job with the highest profit comes first, the second highest next, and so on.

**Step 3**: Initialize a schedule

- Create a timeline (array) to represent available time slots.
- Each index represents a time slot. (eg. Index 0 means time slot from 0 - 1)
- Initially, all slots are free.

**Step 4**: Schedule jobs greedily

- Take each job (starting from the highest profit):
- Look for a free time slot for the job as late as possilbe:

  - Start checking from its deadline backward toward the earliest slot.
  - This ensures the job is completed before its deadline and also the earlier time slots remain available for other jobs with stricter deadlines.

- If you find a free slot:
  - Assign the job to that slot.
  - Mark the slot as occupied.
  - Add the job’s profit to the total profit.
  - Increment the count of jobs scheduled.
- If no slot is available before the deadline, skip the job.

**Step 5**: Collect results

- After checking all jobs, you have:
  - The total number of jobs scheduled.
  - The total profit earned.
- Return these results.

## Implementation

```java
class Job implements Comparable<Job> {
    int deadline;
    int profit;

    public Job(int deadline, int profit) {
        this.deadline = deadline;
        this.profit = profit;
    }

    @Override
    public int compareTo(Job job) {
        return job.profit - this.profit;
    }
}

class Solution {

    public ArrayList<Integer> jobSequencing(int[] deadline, int[] profit) {
        ArrayList<Integer> result = new ArrayList<>();

        int size = deadline.length;
        Job[] jobs = new Job[size];

        for(int i=0; i<size; i++) {
            jobs[i] = new Job(deadline[i], profit[i]);
        }

        Arrays.sort(jobs);

        boolean[] timeline = new boolean[size];
        int count = 0;
        int totalProfit = 0;

        for(int i=0; i<size; i++) {
            for(int j=jobs[i].deadline - 1; j>=0; j--) {
                if(!timeline[j]) {
                    timeline[j] = true;
                    totalProfit += jobs[i].profit;
                    count++;
                    break;
                }
            }
        }

        result.add(count);
        result.add(totalProfit);

        return result;
    }
}
```
